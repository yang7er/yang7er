library(yang7er)
get_hpi()
get_hpi()
hpi <- get_hpi()
devtools::document()
devtools::document()
yang7er::get_hpi()
yang7er::get_hpi()
test_that(
"chcking diff_region_state() works",{
expect_equal(nrow(get_hpi(),26867))
}
)
library(testthat)
test_that(
"chcking diff_region_state() works",{
expect_equal(nrow(get_hpi(),26867))
}
)
nrow(get_hpi()
get_hpi()
nrow(get_hpi())
test_that(
"chcking diff_region_state() works",{
expect_equal(nrow(get_hpi()),26877)
}
)
test_that(
"chcking diff_region_state() works",{
expect_equal(nrow(get_hpi()),26877)
}
)
test_that(
"chcking function get_hpi() works",{
expect_equal(nrow(get_hpi()),26877)
}
)
test_that(
"chcking function diff_region_state() works",{
expect_equal(nrow(diff_region_state("AK",1999)),1)
expect_equal(nrow(diff_region_state("AL",1999)),1)
}
)
diff_region_state("AK",1999)
regions_plot <- function(Min,Max){
#define ggplot
aes <- ggplot2::aes
#define dataset
hpi <- yang7er::hpi
`%>%` <- magrittr::`%>%`
output_df <- hpi %>%
dplyr::filter(year >= Min,
year <= Max) %>%
ggplot2::ggplot(aes(x=year,
y=region_avg,
color=region))+
ggplot2::geom_line()+
ggplot2::theme_bw()
return(output_df)
}
regions_plot(1990,2009)
detvools::document
library(devtools)
devtools::document()
pkgload::dev_help('regions_plot')
devtools::document()
rm(list=c("regions_plot"))
devtools::document()
pkgload::dev_help('regions_plot')
#' @title Plot of Regions HPI Difference
#' @description Show a plot of the hpi change between in different regions
#' @details This function using data 'hpi', ploting the hpi changes
#' in all regions. You can put a year. like(1990,2018)
#' It will draw a graph of the HPI changes in your chosen years for
#' all regions.
#' @param Min,Number.
#'  A min year (the plot beginning from which year) you chose
#'  you can choose from unique(yang7er::hpi$year)
#' @param Max,Number.
#'  A max year (the plot ending from which year) you chose
#'  you can choose from unique(yang7er::hpi$year)
#'
#'@returns A plot.
#'
#'
#'@examples
#' #Plot from 1995 to 2017
#' regions_plot(1995,2017)
#'
#'@export
regions_plot <- function(Min,Max){
#define ggplot
aes <- ggplot2::aes
#define dataset
hpi <- yang7er::hpi
`%>%` <- magrittr::`%>%`
output_df <- hpi %>%
dplyr::filter(year >= Min,
year <= Max) %>%
ggplot2::ggplot(aes(x=year,
y=region_avg,
color=region))+
ggplot2::geom_line()+
ggplot2::theme_bw()
return(output_df)
}
library(yang7er)
regions_plot(1998,2017)
diff_plot("AK")
diff_region_state("AK",2016)
diff_region_state("AK",2020)
nrow(diff_region_state("AL",2022))
library(testthat)
test_that(
"chcking function diff_region_state() works",{
expect_equal(nrow(diff_region_state("AK",1999)),1)
expect_equal(nrow(diff_region_state("AL",2022)),0)
}
)
test_that(
"chcking function diff_region_state() works",{
expect_equal(nrow(diff_region_state("AK",1999)),1)
expect_equal(nrow(diff_region_state("AK",2022)),0)
}
)
usethis::use_vignette("vignette")
library(yang7er)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
library(yang7er)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
str(hpi)
help(hpi)
library(yang7er)
library(tidyverse)
library()
Description <- c("year","month","states in US","house price index","us annual average HPI","every stats's anaual average HPI","us annual average HPI","state belongs in which region","every region's anaual average HPI")
codebook <- tibble(Variable = colnames(hpi),
Type = map_chr(hpi, typeof)) %>%
mutate(Description = Description)
Description <- c("year","month","states in US","house price index","us annual average HPI","every stats's anaual average HPI","us annual average HPI","state belongs in which region","every region's anaual average HPI")
codebook <- tibble(Variable = colnames(hpi),
Type = map_chr(hpi, typeof)) %>%
mutate(Description = Description)
Description <- c("year","month","states in US","house price index","us annual average HPI","every stats's anaual average HPI","us annual average HPI","state belongs in which region","every region's anaual average HPI")
codebook <- tibble(Variable = colnames(hpi),
Type = map_chr(hpi, typeof)) %>%
mutate(Description = Description)
kable(codebook, align = "lc",
caption = "HPI Data Description") %>%
kable_styling(full_width = F,
bootstrap_options = c("striped", "condensed", "bordered"))
library(yang7er)
library(tidyverse)
library(kableExtra)
Description <- c("year","month","states in US","house price index","us annual average HPI","every stats's anaual average HPI","us annual average HPI","state belongs in which region","every region's anaual average HPI")
codebook <- tibble(Variable = colnames(hpi),
Type = map_chr(hpi, typeof)) %>%
mutate(Description = Description)
kable(codebook, align = "lc",
caption = "HPI Data Description") %>%
kable_styling(full_width = F,
bootstrap_options = c("striped", "condensed", "bordered"))
Description <- c("year","month","states in US","house price index","us annual average HPI","every stats's anaual average HPI","us annual average HPI","state belongs in which region","every region's anaual average HPI")
codebook <- tibble(Variable = colnames(hpi),
Type = map_chr(hpi, typeof)) %>%
mutate(Description = Description)
kable(codebook, align = "lc",
caption = "HPI Data Description") %>%
kable_styling(full_width = F,
bootstrap_options = c("striped", "condensed", "bordered"))
diff_region_state("AK",2016)
diff_plot("AK")
regions_plot(1990,2018)
diff_region_state("AK",2016)
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>"
)
usethis::use_vignette("vignette")
library(devtools)
devtools::document()
